#include <QApplication>
#include <QWidget>
#include <QVBoxLayout>
#include <QHBoxLayout>
#include <QPushButton>
#include <QLabel>
#include <QFileDialog>
#include <QSlider>
#include <QLineEdit>
#include <QPixmap>
#include <QImage>
#include <QMouseEvent>
#include <QClipboard>
#include <QDir>
#include <QFontDatabase>
#include <opencv2/opencv.hpp>
#include <sstream>
#include <iomanip>
#define K1aZqYTe ch(){QApplication::clipboard()->setText(hx->text());}
#define XkC2ma2m fn->setAlignment(Qt::AlignCenter);
#define AgyGgfe8 lf(){
#define sUpXlHcl img->setFixedSize(sz.width()*cs,sz.height()*cs);
#define S93WyD5t QWidget{
#define B3TYFgGL ImageCanvas:public
#define sJ2ZDxVL QStringList
#define oIEHoHgD l->addLayout(cl);
#define BFFvlOC6 ucvs();
#define HYjBK0OM img->setPixmap(pm.scaled(this->size(),Qt::KeepAspectRatio,Qt::SmoothTransformation));
#define lZayip20 v){op=v/100.0;olb->setText(QString("Opacity: %1").arg(op));ucvs();}
#define IetTbUth private
#define cNYLjPFa loadImg(f);
#define dSIq5ckc i=0;i<sz.height();i++)
#define JOniDrRy info->setText("No folder");
#define bSwYaLLi QVBoxLayout(this);
#define VYtL7BQI ol->addWidget(olb);
#define rG4GC6OR if(bc==8){
#define KdVr9SNC if(!files.isEmpty())loadImg(files[idx]);
#define wkuJUg15 sw(){
#define dxI8kgi5 exl->addWidget(exp);
#define GiyIlxtB if(idx>=0&&idx<files.size())expd[files[idx]]=hx->text();
#define cjrcvutf };
#define ebMbP3Ym public:
#define yxvYlv88 j=0;j<g.cols;j++){
#define KrmRVHqh QLabel("No folder",this);
#define XmUmCAuk QMap<QString,QString>expd;
#define lAtVF0tg QLabel(QString("Block: %1").arg(bs),this);
#define yuPTp9Vx s<<std::uppercase<<std::setfill('0')<<std::setw(2)<<std::hex<<bv<<" ";
#define BkYKKOtC sz.setHeight(22);
#define rSWqMlTX QLineEdit*hx;
#define RDeh5GHR connect(prevBtn,&QPushButton::clicked,this,&ImageCanvas::pv);
#define u49gDY84 connect(bsld,&QSlider::valueChanged,this,&ImageCanvas::ub);
#define sl1HCr3L bsld=new
#define cDU1BuNE void
#define Yv94gJCC l->addWidget(fn);
#define OaVFpZRB CV_8UC3,cv::Scalar(255,255,255));
#define gpgI9gCh csld->setValue(ct);
#define EPVPUFws im=cv::imread(f.toStdString());
#define w1BRDECI osld=new
#define gPCTPiaV if(!im.empty())cv::addWeighted(ov,op,im,1-op,0,di);
#define SEdkxk2d osld->setValue(int(op*100));
#define yGafkFdq resizeEvent(QResizeEvent*)override{
#define siSk8cXK sz.setHeight(31);
#define isn7O6k6 QHBoxLayout*ol=new
#define EOSL3eC9 QHBoxLayout*nav=new
#define nJH9vHg6 QString
#define EdMVuYm7 connect(nextBtn,&QPushButton::clicked,this,&ImageCanvas::nx);
#define cF0BTLC5 v){bs=v|1;blb->setText(QString("Block: %1").arg(bs));if(!im.empty())igfi();}
#define CxTJJ9GZ fn=new
#define mVLrY6mw QVBoxLayout*l=new
#define vOYSOQSG l->addWidget(swBtn);
#define ak1gBLDO ld(){
#define tmPOnld8 if(sz.height()==22){
#define dN4NeYD2 cv::adaptiveThreshold(gr,th,255,cv::ADAPTIVE_THRESH_MEAN_C,cv::THRESH_BINARY,bs,ct);
#define MwQ7M7B9 l->addLayout(ol);
#define MAnS0vKj connect(openFolder,&QPushButton::clicked,this,&ImageCanvas::lf);
#define ju6oLiH3 cl->addWidget(clb);
#define xEuqLcZV QImage
#define mPI2ekPE l->addWidget(info);
#define xpxk236u QLabel*m,*info,*img,*fn,*blb,*clb,*olb;
#define WbWKEMjb QLabel(QString("Const: %1").arg(ct),this);
#define sk8vI08F igfi(){
#define tIK8xdUf m->setText("Mode: 96x22");
#define ZHpDOhYs eh(){
#define mWrLAe5c QHBoxLayout*cl=new
#define aFTU6U7R cv::resize(im,im,cv::Size(sz.width()*cs,sz.height()*cs));
#define ZNskhuq7 m=new
#define D1oUYtup connect(exp,&QPushButton::clicked,this,&ImageCanvas::eh);
#define tfmbxomr QPushButton("Switch Canvas",this);
#define bmWabXXE pm=QPixmap::fromImage(q.rgbSwapped());
#define HOJNToLt connect(clr,&QPushButton::clicked,this,&ImageCanvas::cc);
#define WDw65907 }
#define jNRaRaJZ QPushButton*nextBtn=new
#define uBxfoTx2 QLineEdit(this);
#define VYoufxV8 top->addStretch();
#define YgghyHLp ucvs(){
#define N7aZJPjJ nowMax=isMaximized();
#define ZfvZpJBQ pv(){if(folder.isEmpty()||files.isEmpty())return;if(idx>0){idx--;loadImg(files[idx]);updateInfo();}}
#define vNAwMCWe QPushButton("Open Image",this);
#define AQ1aG2gi img->setAlignment(Qt::AlignCenter);
#define evNc2ftY maxMode=nowMax;
#define RCfUt409 QSlider*bsld,*csld,*osld;
#define GPI7uLDu cs,bs,ct,idx;
#define PieyVcqj QPushButton("Copy",this);
#define Vp7a93T9 di=ov.clone();
#define s0o0wGPU d=QFileDialog::getExistingDirectory(this,"Open Folder","");
#define gKXZoaXI im,g;
#define s00xk61x else
#define uViNdE9j info->setText("Single image mode");
#define W9aPHk4c olb=new
#define IlI3qFxV connect(osld,&QSlider::valueChanged,this,&ImageCanvas::uo);
#define vvKFVCoA osld->setRange(0,100);
#define XYggkrMJ Q_OBJECT
#define bt9FQICL s;int
#define o7Maxf2e bool
#define r8c8mmN8 igfi();
#define DnXtIBGx double
#define ashwT3h5 l->addWidget(img,0,Qt::AlignCenter);
#define rBFXXiBO QPushButton*exp=new
#define VEJC9W12 bc=0,bv=0;
#define AVwBpbiQ if(!f.isEmpty()){
#define a1kb9qDo hx=new
#define Vf6UTdde px=th.at<uchar>(i*cs+cs/2,j*cs+cs/2);
#define ZCeHcNAj i=0;i<g.rows;i++){
#define xNS94ZGs protected:
#define ZMXw6eVG QPushButton*prevBtn=new
#define tpuEonaw if(!files.isEmpty())updateInfo();
#define JYOOak5A if(nowMax!=maxMode){
#define vL4QLOgg l->addWidget(openFolder);
#define ylb0wo7e g=cv::Mat::zeros(31,96,CV_8U);
#define f7nLSjAg folder.clear();
#define vdBVu3eO if(d.isEmpty())return;
#define tji3GPlm cl->addWidget(csld);
#define d2yxFLEm if(g.at<uchar>(i,j)==1)
#define R0pNZ7RC mousePressEvent(QMouseEvent*e)override{
#define ncPvZUt6 maxMode;
#define hiv7sgZ7 int
#define BE6xvZ9s j=0;j<sz.width();j++){
#define wiMU57Na bsld->setValue(bs);
#define O3jAaIgy th;
#define PMjVWLZM QPushButton("Previous",this);
#define a2fjDZn1 g.at<uchar>(y,x)=1-g.at<uchar>(y,x);
#define hgRG4WWW loadImg(QString
#define H6Yt3Ht7 blb=new
#define PHAoMgUp di;
#define ypMtdnip if(x>=0&&x<sz.width()&&y>=0&&y<sz.height()){
#define ndDk6Ak6 QPushButton*cpy=new
#define DAUR8GAW QLabel(this);
#define aCNhO6PQ class
#define cGabmYhA QPushButton("Clear",this);
#define vRHVk0Og l->addWidget(clr);
#define SXtMd4K9 QLabel(QString("Opacity: %1").arg(op),this);
#define ccWfQTk3 cv::Scalar(0,0,0),-1);
#define HKAiVOVO bc=0;bv=0;
#define pbdxhW6v hx->setText(QString::fromStdString(s.str()));
#define YrbDwXOX op;
#define a0qgsVEm cv::rectangle(ov,cv::Rect(j*cs,i*cs,cs,cs),
#define OCiePKWm return;
#define CltUCEeA QPushButton*openImg=new
#define sk8Tk2NU QHBoxLayout*bl=new
#define oHlAJjQ8 sz(QSize(96,22)),g(cv::Mat::zeros(22,96,CV_8U)),idx(-1),maxMode(false){
#define nIScGxje uo(int
#define qDlHg4pC csld->setRange(0,63);
#define mEK56SBD f=files[idx];
#define Rdo3k4nn info->setAlignment(Qt::AlignCenter);
#define PWL8EeAE .arg(idx+1).arg(files.size())
#define TMQgqLhf m->setText("Mode: 96x31");
#define UMofE42y QSlider(Qt::Horizontal,this);
#define mbuTb661 x=0;x<=sz.width()*cs;x+=cs)
#define skZNWGiZ QPushButton*clr=new
#define HEnlREqM QHBoxLayout*exl=new
#define LkrAKhvY folder=d;
#define n8BVeYlZ clb=new
#define ojlmbuFB flt;flt<<"*.png"<<"*.jpg"<<"*.bmp"<<"*.jpeg";
#define nrchGqrE QLabel("Mode: 96x22",this);
#define XDmiJqM7 updateInfo(){
#define ZTc9YYbc l->addLayout(exl);
#define GFJmxplY sz;
#define TsvBhGf5 nav->addWidget(prevBtn);
#define iCMlxUHq QDir
#define PCm4VCi0 l->addLayout(bl);
#define O6aVuc94 img->setPixmap(QPixmap::fromImage(q.rgbSwapped()));
#define RjUdvfua p=e->pos()-img->pos();
#define Sebd0ng4 QPushButton("Export Hex",this);
#define cSeh93Xd fn->setText(f);
#define U991fduf l->addLayout(nav);
#define RUWJT3PW ex=expd.contains(f)?"Yes":"No";
#define RbVjP7YJ dir(d);
#define p6P2Ymcq l->addLayout(top);
#define X4abne0A QPushButton("Open Folder",this);
#define u3YeOWpF ov(im.empty()?cv::Size(sz.width()*cs,sz.height()*cs):im.size(),
#define WbD2nrJd for(int
#define EEDdAYZ4 cv::line(ov,cv::Point(x,0),cv::Point(x,sz.height()*cs),gc,1);
#define kOgAf4Gm if(e->button()==Qt::LeftButton&&!maxMode){
#define ylS8M5bG nx(){if(folder.isEmpty()||files.isEmpty())return;if(idx<files.size()-1){idx++;loadImg(files[idx]);updateInfo();}}
#define fXYaoFOS bl->addWidget(blb);
#define lvlgHkyX y=0;y<=sz.height()*cs;y+=cs)
#define Obx2RLoc g=cv::Mat::zeros(22,96,CV_8U);
#define TanvAEQK v){ct=v;clb->setText(QString("Const: %1").arg(ct));if(!im.empty())igfi();}
#define ZDk46oCa QSize
#define aKqLEkGW bv=(bv<<1)|(g.at<uchar>(i,j)&1);bc++;
#define nVLxvXRD ImageCanvas(QWidget*p=nullptr):QWidget(p),cs(10),op(0.5),bs(15),ct(10),
#define IT9CpBeH l->addWidget(openImg);
#define Bn5hjn9w img=new
#define QiNUgVQU connect(openImg,&QPushButton::clicked,this,&ImageCanvas::ld);
#define SCR7j80B i=0;i<files.size();i++)files[i]=dir.absoluteFilePath(files[i]);
#define pc24Wb3T QPixmap
#define VNaJ4THt f=QFileDialog::getOpenFileName(this,"Open","","Images (*.png *.jpg *.bmp *.jpeg)");
#define cLoVLgNv QPushButton("Next",this);
#define pWQorb2T if(!im.empty())cv::resize(im,im,cv::Size(sz.width()*cs,sz.height()*cs));
#define F7JLyHHp info=new
#define M3ud5Mib bsld->setRange(3,63);
#define NbxLjd48 cv::line(ov,cv::Point(0,y),cv::Point(sz.width()*cs,y),gc,1);
#define P4Uyitx3 ol->addWidget(osld);
#define EnfCHtjV connect(csld,&QSlider::valueChanged,this,&ImageCanvas::uc);
#define T9BrEdNs top->addWidget(m);
#define bPhFMfpT j=0;j<sz.width();j++)
#define G2kggUvO QPushButton*swBtn=new
#define ylbV3NMZ files.clear();
#define HcQNCv45 QPoint
#define pEPh1kbM slots:
#define LKtwQes0 .arg(QFileInfo(f).fileName()).arg(ex));
#define Isb2kuNd y=p.y()/cs;
#define ikBcFv65 f){
#define Kw95jDJB updateInfo();
#define CfJAqbqF std::ostringstream
#define ZpSxpxPl idx=0;
#define LWiTQKGJ gr;cv::cvtColor(im,gr,cv::COLOR_RGB2GRAY);
#define LQPLwvCt cv::Scalar
#define v9GKbhkf QHBoxLayout();
#define SP9k2vip connect(cpy,&QPushButton::clicked,this,&ImageCanvas::ch);
#define ohkV5LhZ csld=new
#define GZwBaXm5 gc(200,200,200);
#define E3hXrjqZ if(files.isEmpty()){
#define tiX9DLqy QLabel("No image",this);
#define VyVmZw90 cv::cvtColor(im,im,cv::COLOR_BGR2RGB);
#define b2uYWiYr q(di.data,di.cols,di.rows,di.step,QImage::Format_RGB888);
#define v5jRkuby files=dir.entryList(flt,QDir::Files);
#define ipOuxF6U uc(int
#define j9fbmkrR QPushButton*openFolder=new
#define okSVPN7X x=p.x()/cs;int
#define WpaoxALp cv::Mat
#define COOPjl1s ub(int
#define EE0FQMEc info->setText(QString("Image %1/%2: %3 | Exported: %4")
#define bjSDnXLv if(maxMode){
#define rofc70h5 folder;
#define SH4hrdde g.at<uchar>(i,j)=(px==0)?1:0;
#define VVRZGEdJ exl->addWidget(cpy);
#define LoI2Qdi7 private:
#define BWRHwgtX nav->addWidget(nextBtn);
#define iRekXqn7 cc(){g.setTo(cv::Scalar(0));ucvs();}
#define m5FHRDOM }else{
#define Rb2V8u21 files;
#define TdYCP96G QHBoxLayout*top=new
#define MtPtcPJZ bl->addWidget(bsld);
#define j0YRsUZp idx=-1;
#define SlDajyJL connect(swBtn,&QPushButton::clicked,this,&ImageCanvas::sw);
#define kjNWCV1k l->addWidget(hx);
aCNhO6PQ B3TYFgGL S93WyD5t XYggkrMJ ebMbP3Ym nVLxvXRD oHlAJjQ8 mVLrY6mw bSwYaLLi TdYCP96G v9GKbhkf
ZNskhuq7 nrchGqrE T9BrEdNs VYoufxV8 p6P2Ymcq F7JLyHHp KrmRVHqh Rdo3k4nn mPI2ekPE Bn5hjn9w DAUR8GAW
sUpXlHcl AQ1aG2gi ashwT3h5 CxTJJ9GZ tiX9DLqy XkC2ma2m Yv94gJCC CltUCEeA vNAwMCWe QiNUgVQU IT9CpBeH
j9fbmkrR X4abne0A MAnS0vKj vL4QLOgg EOSL3eC9 v9GKbhkf ZMXw6eVG PMjVWLZM RDeh5GHR TsvBhGf5 jNRaRaJZ
cLoVLgNv EdMVuYm7 BWRHwgtX U991fduf G2kggUvO tfmbxomr SlDajyJL vOYSOQSG sk8Tk2NU v9GKbhkf H6Yt3Ht7
lAtVF0tg fXYaoFOS sl1HCr3L UMofE42y M3ud5Mib wiMU57Na u49gDY84 MtPtcPJZ PCm4VCi0 mWrLAe5c v9GKbhkf
n8BVeYlZ WbWKEMjb ju6oLiH3 ohkV5LhZ UMofE42y qDlHg4pC gpgI9gCh EnfCHtjV tji3GPlm oIEHoHgD isn7O6k6
v9GKbhkf W9aPHk4c SXtMd4K9 VYtL7BQI w1BRDECI UMofE42y vvKFVCoA SEdkxk2d IlI3qFxV P4Uyitx3 MwQ7M7B9
skZNWGiZ cGabmYhA HOJNToLt vRHVk0Og a1kb9qDo uBxfoTx2 kjNWCV1k HEnlREqM v9GKbhkf rBFXXiBO Sebd0ng4
D1oUYtup dxI8kgi5 ndDk6Ak6 PieyVcqj SP9k2vip VVRZGEdJ ZTc9YYbc BFFvlOC6 WDw65907 xNS94ZGs cDU1BuNE
R0pNZ7RC kOgAf4Gm HcQNCv45 RjUdvfua hiv7sgZ7 okSVPN7X Isb2kuNd ypMtdnip a2fjDZn1 BFFvlOC6 WDw65907
WDw65907 WDw65907 cDU1BuNE yGafkFdq o7Maxf2e N7aZJPjJ JYOOak5A evNc2ftY BFFvlOC6 WDw65907 WDw65907
IetTbUth pEPh1kbM cDU1BuNE ak1gBLDO nJH9vHg6 VNaJ4THt AVwBpbiQ cNYLjPFa f7nLSjAg ylbV3NMZ j0YRsUZp
uViNdE9j WDw65907 WDw65907 cDU1BuNE AgyGgfe8 nJH9vHg6 s0o0wGPU vdBVu3eO iCMlxUHq RbVjP7YJ sJ2ZDxVL
ojlmbuFB v5jRkuby WbD2nrJd SCR7j80B LkrAKhvY ZpSxpxPl KdVr9SNC Kw95jDJB WDw65907 cDU1BuNE ylS8M5bG
cDU1BuNE ZfvZpJBQ cDU1BuNE wkuJUg15 tmPOnld8 siSk8cXK ylb0wo7e TMQgqLhf m5FHRDOM BkYKKOtC Obx2RLoc
tIK8xdUf WDw65907 sUpXlHcl pWQorb2T BFFvlOC6 WDw65907 cDU1BuNE COOPjl1s cF0BTLC5 cDU1BuNE ipOuxF6U
TanvAEQK cDU1BuNE nIScGxje lZayip20 cDU1BuNE iRekXqn7 cDU1BuNE ZHpDOhYs CfJAqbqF bt9FQICL VEJC9W12
WbD2nrJd ZCeHcNAj WbD2nrJd yxvYlv88 aKqLEkGW rG4GC6OR yuPTp9Vx HKAiVOVO WDw65907 WDw65907 WDw65907
pbdxhW6v GiyIlxtB tpuEonaw WDw65907 cDU1BuNE K1aZqYTe LoI2Qdi7 cDU1BuNE hgRG4WWW ikBcFv65 EPVPUFws
aFTU6U7R VyVmZw90 cSeh93Xd r8c8mmN8 WDw65907 cDU1BuNE sk8vI08F WpaoxALp LWiTQKGJ WpaoxALp O3jAaIgy
dN4NeYD2 WbD2nrJd dSIq5ckc WbD2nrJd BE6xvZ9s hiv7sgZ7 Vf6UTdde SH4hrdde WDw65907 BFFvlOC6 WDw65907
cDU1BuNE YgghyHLp WpaoxALp u3YeOWpF OaVFpZRB WbD2nrJd dSIq5ckc WbD2nrJd bPhFMfpT d2yxFLEm a0qgsVEm
ccWfQTk3 LQPLwvCt GZwBaXm5 WbD2nrJd mbuTb661 EEDdAYZ4 WbD2nrJd lvlgHkyX NbxLjd48 WpaoxALp PHAoMgUp
gPCTPiaV s00xk61x Vp7a93T9 xEuqLcZV b2uYWiYr bjSDnXLv pc24Wb3T bmWabXXE HYjBK0OM m5FHRDOM O6aVuc94
WDw65907 WDw65907 cDU1BuNE XDmiJqM7 E3hXrjqZ JOniDrRy OCiePKWm WDw65907 nJH9vHg6 mEK56SBD nJH9vHg6
RUWJT3PW EE0FQMEc PWL8EeAE LKtwQes0 WDw65907 hiv7sgZ7 GPI7uLDu DnXtIBGx YrbDwXOX ZDk46oCa GFJmxplY
o7Maxf2e ncPvZUt6 xpxk236u RCfUt409 rSWqMlTX WpaoxALp gKXZoaXI nJH9vHg6 rofc70h5 sJ2ZDxVL Rb2V8u21
XmUmCAuk cjrcvutf
#include "main.moc"
#define xI2paumn fam=QFontDatabase::applicationFontFamilies(id).at(0);
#define HKuwSJqA app.exec();
#define Dg7mZfcf w.setWindowTitle("img2bin");
#define wKMJeMLh w;
#define QcsxEy7U app(argc,argv);
#define hStwiMtm return
#define ioVFwqFC argc,char*argv[]){
#define gUSOTxbY ImageCanvas
#define IlZJEVj9 QApplication
#define PU0PEAMt main(int
#define YHFBLN1o w.show();
#define VSoHCZtM if(id!=-1){
#define TViH8IOh id=QFontDatabase::addApplicationFont("custom_font.ttf");
#define nMi9QkdE app.setFont(QFont(fam,10));
#define Lpk4A7WD app.setFont(QFont("Arial",10));
hiv7sgZ7 PU0PEAMt ioVFwqFC IlZJEVj9 QcsxEy7U hiv7sgZ7 TViH8IOh
VSoHCZtM nJH9vHg6 xI2paumn nMi9QkdE m5FHRDOM Lpk4A7WD WDw65907
gUSOTxbY wKMJeMLh Dg7mZfcf YHFBLN1o hStwiMtm HKuwSJqA WDw65907
